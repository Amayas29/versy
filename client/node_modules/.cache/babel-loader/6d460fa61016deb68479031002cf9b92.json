{"ast":null,"code":"import _classCallCheck from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _jsxFileName = \"/home/amayas/Projects/versy/src/components/profile/UserBanner.js\",\n    _this3 = this;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from \"react\";\nimport Icon from \"../Icon\";\nimport MessagesList from \"../MessagesList\";\nimport UsersList from \"../UsersList\";\nimport Popup from \"reactjs-popup\";\nimport EditProfile from \"../profile/EditProfile\";\nimport { getUser, getUserMessages } from \"../../data/data\";\nimport moment from \"moment\";\nimport dateFormat from \"dateformat\";\nimport getCookie from \"../../utils/Cookies\";\n\nvar UserBanner = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserBanner, _React$Component);\n\n  function UserBanner(props) {\n    var _this;\n\n    _classCallCheck(this, UserBanner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserBanner).call(this, props));\n    _this.state = {\n      mainProfileVue: false\n    };\n    return _this;\n  }\n\n  _createClass(UserBanner, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var style = {\n        width: \"600px\"\n      };\n      var messages = getUserMessages(this.props.user.id);\n      var followers = [];\n\n      var _iterator = _createForOfIteratorHelper(this.props.user.followers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var id = _step.value;\n          followers.push(getUser(id));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var following = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.props.user.following),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _id = _step2.value;\n          following.push(getUser(_id));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var joinedDate = moment(this.props.user.joinedDate, \"DD/MM/YYYY\").toDate();\n      joinedDate = dateFormat(joinedDate, \"mmm dd,yyyy\");\n      var birthday = moment(this.props.user.birthday, \"DD/MM/YYYY\").toDate();\n      birthday = dateFormat(birthday, \"mmm dd,yyyy\");\n      var token = getCookie(\"token\");\n      var user = getUser(token);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-banner-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(UserHeader, {\n        user: this.props.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }), user && user.id === this.props.user.id ? /*#__PURE__*/React.createElement(Popup, {\n        trigger: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"btn user-banner-btn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 22\n          }\n        }, \"Edit profile\"),\n        contentStyle: style,\n        modal: true,\n        closeOnDocumentClick: true,\n        closeOnEscape: true,\n        lockScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, function (close) {\n        return /*#__PURE__*/React.createElement(EditProfile, {\n          user: _this2.props.user,\n          setMainContainer: _this2.props.setMainContainer,\n          close: close,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }\n        });\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn user-banner-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, \"Follow\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"user-bio break\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, this.props.user.bio), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-metadatas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(UserMetadata, {\n        name: \"fa-cake-candles\",\n        data: \"Born \".concat(birthday),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(UserMetadata, {\n        name: \"fa-calendar-days\",\n        data: \"Joined \".concat(joinedDate),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-stats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(UserStat, {\n        list: followers,\n        name: \"Following\",\n        onClick: function onClick() {\n          return _this2.props.setProfileVue( /*#__PURE__*/React.createElement(UsersList, {\n            users: followers,\n            setMainContainer: _this2.props.setMainContainer,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }\n          }), false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(UserStat, {\n        list: following,\n        name: \"Followers\",\n        onClick: function onClick() {\n          return _this2.props.setProfileVue( /*#__PURE__*/React.createElement(UsersList, {\n            users: following,\n            setMainContainer: _this2.props.setMainContainer,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }\n          }), false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }), this.props.mainProfileVue || /*#__PURE__*/React.createElement(Icon, {\n        name: \"fa-left-long\",\n        size: \"fa-lg\",\n        onClick: function onClick() {\n          return _this2.props.setProfileVue( /*#__PURE__*/React.createElement(MessagesList, {\n            messages: messages,\n            setMainContainer: _this2.props.setMainContainer,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 19\n            }\n          }), true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n\n  return UserBanner;\n}(React.Component);\n\nvar UserHeader = function UserHeader(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-header\",\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.user.avatar,\n    alt: \"avatar\",\n    className: \"user-avatar\",\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-pseudos\",\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, props.user.name), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, props.user.username)));\n};\n\nvar UserMetadata = function UserMetadata(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-metadata\",\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: props.name,\n    size: \"fa-lg\",\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, props.data));\n};\n\nvar UserStat = function UserStat(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-stat\",\n    onClick: props.onClick,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, props.list.length), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, props.name));\n};\n\nexport default UserBanner;","map":{"version":3,"sources":["/home/amayas/Projects/versy/src/components/profile/UserBanner.js"],"names":["React","Icon","MessagesList","UsersList","Popup","EditProfile","getUser","getUserMessages","moment","dateFormat","getCookie","UserBanner","props","state","mainProfileVue","style","width","messages","user","id","followers","push","following","joinedDate","toDate","birthday","token","close","setMainContainer","bio","setProfileVue","Component","UserHeader","avatar","name","username","UserMetadata","data","UserStat","onClick","list","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Icon from \"../Icon\";\nimport MessagesList from \"../MessagesList\";\nimport UsersList from \"../UsersList\";\nimport Popup from \"reactjs-popup\";\nimport EditProfile from \"../profile/EditProfile\";\nimport { getUser, getUserMessages } from \"../../data/data\";\nimport moment from \"moment\";\nimport dateFormat from \"dateformat\";\nimport getCookie from \"../../utils/Cookies\";\n\nclass UserBanner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mainProfileVue: false,\n    };\n  }\n\n  render() {\n    const style = {\n      width: \"600px\",\n    };\n\n    const messages = getUserMessages(this.props.user.id);\n\n    let followers = [];\n    for (let id of this.props.user.followers) followers.push(getUser(id));\n\n    let following = [];\n    for (let id of this.props.user.following) following.push(getUser(id));\n\n    let joinedDate = moment(this.props.user.joinedDate, \"DD/MM/YYYY\").toDate();\n    joinedDate = dateFormat(joinedDate, \"mmm dd,yyyy\");\n\n    let birthday = moment(this.props.user.birthday, \"DD/MM/YYYY\").toDate();\n    birthday = dateFormat(birthday, \"mmm dd,yyyy\");\n\n    const token = getCookie(\"token\");\n    const user = getUser(token);\n\n    return (\n      <div className=\"user-banner-container\">\n        <UserHeader user={this.props.user} />\n\n        {user && user.id === this.props.user.id ? (\n          <Popup\n            trigger={<div className=\"btn user-banner-btn\">Edit profile</div>}\n            contentStyle={style}\n            modal\n            closeOnDocumentClick\n            closeOnEscape\n            lockScroll={true}\n          >\n            {(close) => (\n              <EditProfile\n                user={this.props.user}\n                setMainContainer={this.props.setMainContainer}\n                close={close}\n              />\n            )}\n          </Popup>\n        ) : (\n          <div className=\"btn user-banner-btn\">Follow</div>\n        )}\n\n        <span className=\"user-bio break\">{this.props.user.bio}</span>\n\n        <div className=\"user-metadatas\">\n          <UserMetadata name=\"fa-cake-candles\" data={`Born ${birthday}`} />\n          <UserMetadata name=\"fa-calendar-days\" data={`Joined ${joinedDate}`} />\n        </div>\n\n        <div className=\"user-stats\">\n          <UserStat\n            list={followers}\n            name=\"Following\"\n            onClick={() =>\n              this.props.setProfileVue(\n                <UsersList\n                  users={followers}\n                  setMainContainer={this.props.setMainContainer}\n                />,\n                false\n              )\n            }\n          />\n\n          <UserStat\n            list={following}\n            name=\"Followers\"\n            onClick={() =>\n              this.props.setProfileVue(\n                <UsersList\n                  users={following}\n                  setMainContainer={this.props.setMainContainer}\n                />,\n                false\n              )\n            }\n          />\n\n          {this.props.mainProfileVue || (\n            <Icon\n              name=\"fa-left-long\"\n              size=\"fa-lg\"\n              onClick={() =>\n                this.props.setProfileVue(\n                  <MessagesList\n                    messages={messages}\n                    setMainContainer={this.props.setMainContainer}\n                  />,\n                  true\n                )\n              }\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst UserHeader = (props) => {\n  return (\n    <div className=\"user-header\">\n      <img src={props.user.avatar} alt=\"avatar\" className=\"user-avatar\" />\n\n      <div className=\"user-pseudos\">\n        <span>{props.user.name}</span>\n        <span>{props.user.username}</span>\n      </div>\n    </div>\n  );\n};\n\nconst UserMetadata = (props) => {\n  return (\n    <div className=\"user-metadata\">\n      <Icon name={props.name} size=\"fa-lg\" />\n      <span>{props.data}</span>\n    </div>\n  );\n};\n\nconst UserStat = (props) => {\n  return (\n    <div className=\"user-stat\" onClick={props.onClick}>\n      <span>{props.list.length}</span>\n      <span>{props.name}</span>\n    </div>\n  );\n};\n\nexport default UserBanner;\n"]},"metadata":{},"sourceType":"module"}