{"ast":null,"code":"import _classCallCheck from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/amayas/Projects/versy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/amayas/Projects/versy/src/components/message/Message.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from \"react\";\nimport MessageAvatar from \"./MessageAvatar\";\nimport MessageContent from \"./MessageContent\";\nimport MessageActions from \"./MessageActions\";\nimport MessageHeader from \"./MessageHeader\";\nimport MessageAction from \"./MessageAction\";\nimport MessageViewContainer from \"../containers/MessageViewContainer\";\nimport Popup from \"reactjs-popup\";\nimport MessageLikes from \"./MessageLikes\";\nimport { getUser } from \"../../data/data\";\nimport Icon from \"../Icon\";\nimport getCookie from \"../../utils/Cookies\";\n\nvar Message = /*#__PURE__*/function (_React$Component) {\n  _inherits(Message, _React$Component);\n\n  function Message() {\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Message).apply(this, arguments));\n  }\n\n  _createClass(Message, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var likes = [];\n\n      var _iterator = _createForOfIteratorHelper(this.props.data.likes),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          likes.push(getUser(i));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var token = getCookie(\"token\");\n      var user = getUser(token);\n      var isLiked = user ? this.props.data.likes.includes(user.id) : false;\n      console.log(this.props.data.likes, user.id, isLiked);\n      var style = {\n        width: \"700px\",\n        height: \"600px\",\n        overflowY: \"scroll\",\n        borderRadius: \"30px\",\n        border: \"1px solid #f3f4f6\",\n        backgroundColor: \"#111827\"\n      };\n      return /*#__PURE__*/React.createElement(\"article\", {\n        className: \"message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(MessageAvatar, {\n        user: this.props.data.user,\n        setMainContainer: this.props.setMainContainer,\n        setPage: this.props.setPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(MessageHeader, {\n        message: this.props.data,\n        setMainContainer: this.props.setMainContainer,\n        setPage: this.props.setPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(MessageContent, {\n        message: this.props.data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(MessageActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, this.props.data.isComment || /*#__PURE__*/React.createElement(MessageAction, {\n        name: \"fa-comment\",\n        list: this.props.data.comments,\n        onClick: function onClick() {\n          _this.props.setMainContainer( /*#__PURE__*/React.createElement(MessageViewContainer, {\n            message: _this.props.data,\n            setMainContainer: _this.props.setMainContainer,\n            setPage: _this.props.setPage,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"message-action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        name: \"fa-heart\",\n        size: \"fa-xl\",\n        effect: isLiked && \"liked\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Popup, {\n        trigger: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"message-action-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }\n        }, \" \", likes.length, \" \"),\n        contentStyle: style,\n        modal: true,\n        closeOnDocumentClick: true,\n        closeOnEscape: true,\n        lockScroll: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, function (close) {\n        return /*#__PURE__*/React.createElement(MessageLikes, {\n          likes: likes,\n          setMainContainer: _this.props.setMainContainer,\n          setPage: _this.props.setPage,\n          close: close,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }\n        });\n      }))));\n    }\n  }]);\n\n  return Message;\n}(React.Component);\n\nexport default Message;","map":{"version":3,"sources":["/home/amayas/Projects/versy/src/components/message/Message.js"],"names":["React","MessageAvatar","MessageContent","MessageActions","MessageHeader","MessageAction","MessageViewContainer","Popup","MessageLikes","getUser","Icon","getCookie","Message","likes","props","data","i","push","token","user","isLiked","includes","id","console","log","style","width","height","overflowY","borderRadius","border","backgroundColor","setMainContainer","setPage","isComment","comments","length","close","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MessageAvatar from \"./MessageAvatar\";\nimport MessageContent from \"./MessageContent\";\nimport MessageActions from \"./MessageActions\";\nimport MessageHeader from \"./MessageHeader\";\nimport MessageAction from \"./MessageAction\";\nimport MessageViewContainer from \"../containers/MessageViewContainer\";\nimport Popup from \"reactjs-popup\";\nimport MessageLikes from \"./MessageLikes\";\nimport { getUser } from \"../../data/data\";\nimport Icon from \"../Icon\";\nimport getCookie from \"../../utils/Cookies\";\nclass Message extends React.Component {\n  render() {\n    let likes = [];\n    for (const i of this.props.data.likes) likes.push(getUser(i));\n\n    const token = getCookie(\"token\");\n    const user = getUser(token);\n    const isLiked = user ? this.props.data.likes.includes(user.id) : false;\n\n    console.log(this.props.data.likes, user.id, isLiked);\n\n    const style = {\n      width: \"700px\",\n      height: \"600px\",\n      overflowY: \"scroll\",\n      borderRadius: \"30px\",\n      border: \"1px solid #f3f4f6\",\n      backgroundColor: \"#111827\",\n    };\n\n    return (\n      <article className=\"message\">\n        <MessageAvatar\n          user={this.props.data.user}\n          setMainContainer={this.props.setMainContainer}\n          setPage={this.props.setPage}\n        />\n        <MessageHeader\n          message={this.props.data}\n          setMainContainer={this.props.setMainContainer}\n          setPage={this.props.setPage}\n        />\n        <MessageContent message={this.props.data} />\n        <MessageActions>\n          {this.props.data.isComment || (\n            <MessageAction\n              name=\"fa-comment\"\n              list={this.props.data.comments}\n              onClick={() => {\n                this.props.setMainContainer(\n                  <MessageViewContainer\n                    message={this.props.data}\n                    setMainContainer={this.props.setMainContainer}\n                    setPage={this.props.setPage}\n                  />\n                );\n              }}\n            />\n          )}\n\n          <span className=\"message-action\">\n            <Icon name=\"fa-heart\" size=\"fa-xl\" effect={isLiked && \"liked\"} />\n\n            <Popup\n              trigger={\n                <span className=\"message-action-text\"> {likes.length} </span>\n              }\n              contentStyle={style}\n              modal\n              closeOnDocumentClick\n              closeOnEscape\n              lockScroll={true}\n            >\n              {(close) => (\n                <MessageLikes\n                  likes={likes}\n                  setMainContainer={this.props.setMainContainer}\n                  setPage={this.props.setPage}\n                  close={close}\n                />\n              )}\n            </Popup>\n          </span>\n        </MessageActions>\n      </article>\n    );\n  }\n}\n\nexport default Message;\n"]},"metadata":{},"sourceType":"module"}